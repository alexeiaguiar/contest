parameters:
  timeout_seconds: 5
tests:
  - name: TCP connected
    tcp:
      host: google.ca
      port: 80
      expected: connected
  - name: TCP timeout
    tcp:
      host: google.ca
      port: 81
      expected: timeout
  - name: TCP refused
    tcp:
      host: localhost
      port: 12345
      expected: refused
  - name: HTTP 200
    http:
      url: https://httpbin.org/status/200
      expected: connected
      expected_status: 200
  - name: HTTP 404
    http:
      url: https://httpbin.org/status/404
      expected: connected
      expected_status: 404
  - name: HTTP timeout
    http:
      url: http://google.ca:81
      expected: timeout
  - name: HTTP refused
    http:
      url: http://localhost:12345
      expected: refused
  - name: Follow redirection
    http:
      url: https://sts.ca-central-1.amazonaws.com
      expected: connected
      expected_status: 200
  - name: Do not follow redirection
    http:
      url: https://sts.ca-central-1.amazonaws.com
      expected: connected
      expected_status: 302
      redirect: false
